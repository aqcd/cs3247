using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using Mirror;

public class Invulnerability : NetworkBehaviour, ISkill
{
    private GameObject player;
    private Health playerHealth;
    private float invulDuration = SkillConstants.INVUL_DURATION;

    void Start() {
        if (!isServer) {
            player = MatchManager.instance.GetPlayer();
            playerHealth = player.GetComponent<Health>();
        }
    }

    public void Execute(Vector3 skillPosition) 
    {
        // Set the boolean to play casting animation to true.
        // player.GetComponent<Animator>().SetBool("isHeal", true);

        playerHealth.BecomeInvulnerable(invulDuration);

        AudioManager.instance.PlaySound(AudioIndex.INVUL_AUDIO, skillPosition);
    }
}
